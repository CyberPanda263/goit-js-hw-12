import{i as k,a as O,S as R}from"./assets/vendor-8614a478.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(e){if(e.ep)return;e.ep=!0;const o=s(e);fetch(e.href,o)}})();function S(){k.show({message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight",backgroundColor:"rgb(239, 64, 64)",theme:"dark"})}function $(){k.show({message:"We're sorry, but you've reached the end of search results.",position:"topRight",backgroundColor:"#4e75ff",theme:"dark"})}function P(r,t,s){const n=[];r.hits.forEach(e=>{const o=document.createElement("li");o.classList="gallery-item";const a=document.createElement("div");a.classList="gallerys";const l=document.createElement("a");l.classList="gallery-link",l.setAttribute("href",`${e.largeImageURL}`);const c=document.createElement("img");c.classList="gallery-image",c.setAttribute("src",`${e.webformatURL}`),c.setAttribute("alt",`${e.tags}`);const y=document.createElement("div");y.classList="gallery-item-description";const g=document.createElement("ul");g.classList="gallery-item-list";const C=["likes","views","comments","downolads"],N=[`${e.likes}`,`${e.views}`,`${e.comments}`,`${e.downloads}`];for(let d=0;d<4;d++){const m=document.createElement("li");m.classList="gallery-item-list-item";const E=document.createElement("h3");E.textContent=`${C[d]}`;const v=document.createElement("p");v.textContent=`${N[d]}`,m.append(E),m.append(v),g.append(m)}y.append(g),l.append(c),a.append(l),o.append(a),o.append(y),n.push(o)}),t.append(...n),s.style.display="block"}async function x(r,t,s){const n=new URLSearchParams({per_page:s,page:t,key:"44067044-e8359f631c20f41f339c4060c",q:r,image_type:"photo",orientation:"horizontal",safesearch:"true"});return t+=1,{images:(await O.get(`https://pixabay.com/api/?${n}`)).data,pageNum:t}}const q=document.querySelector(".search-form"),p=document.querySelector(".gallery-list"),f=document.querySelector("#loader"),A=document.querySelector(".up"),u=document.querySelector(".show-more-btn");let i=1,L;const b=15;let h;function w(){h&&h.destroy(),h=new R(".gallerys a",{captionDelay:200})}q.addEventListener("submit",async r=>{r.preventDefault(),p.innerHTML="",i=1,f.style.display="block",L=q.elements.searchItem.value.trim().replace(" ","+");try{const{images:t,pageNum:s}=await x(L,i,b);f.style.display="none",t.hits.length!==0?(P(t,p,u),i=s,w()):S()}catch(t){f.style.display="none",console.error("Error fetching images:",t),S()}});u.addEventListener("click",async()=>{try{const{images:r,pageNum:t}=await x(L,i,b);i*b<r.totalHits?(P(r,p,u),window.scrollBy({top:p.firstElementChild.getBoundingClientRect().height*2,behavior:"smooth"}),i=t,w()):($(),u.style.display="none")}catch(r){console.error("Error fetching more images:",r),$()}});A.addEventListener("click",()=>{window.scroll({top:0,behavior:"smooth"})});w();
//# sourceMappingURL=commonHelpers.js.map
